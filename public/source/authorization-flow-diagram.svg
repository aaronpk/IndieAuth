<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 1163 721" style="width: 100%; height: auto;"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1163" height="721"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="372.3114705199082" y="22.6179738" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">IndieAuth Authorization Flow Diagram</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 53.61632615729297 88.511670804 L 53.61632615729297 721.8149372040002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 379.2260512537773 88.511670804 L 379.2260512537773 721.8149372040002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 646.3024511549492 88.511670804 L 646.3024511549492 721.8149372040002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 895.6239763008475 88.511670804 L 895.6239763008475 721.8149372040002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1083.3566248007362 88.511670804 L 1083.3566248007362 721.8149372040002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 47.799317964000004 L 99.69332771458593 47.799317964000004 L 99.69332771458593 88.511670804 L 7.5393246000000005 88.511670804 L 7.5393246000000005 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="23.899658982" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Browser</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 341.6323832841308 47.799317964000004 L 416.81971922342376 47.799317964000004 L 416.81971922342376 88.511670804 L 341.6323832841308 88.511670804 L 341.6323832841308 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="357.99271766613083" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 596.342118298828 47.799317964000004 L 696.2627840110703 47.799317964000004 L 696.2627840110703 88.511670804 L 596.342118298828 88.511670804 L 596.342118298828 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="612.7024526808281" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User URL</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 795.1636434447264 47.799317964000004 L 996.0843091569686 47.799317964000004 L 996.0843091569686 88.511670804 L 795.1636434447264 88.511670804 L 795.1636434447264 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="811.5239778267264" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization Endpoint</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1011.1629583569686 47.799317964000004 L 1155.5502912445038 47.799317964000004 L 1155.5502912445038 88.511670804 L 1011.1629583569686 88.511670804 L 1011.1629583569686 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1027.5232927389686" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Token Endpoint</text></g></g><g><g><g><rect fill="white" stroke="none" x="112.49272720199998" y="118.668969204" width="183.2235917082422" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="112.49272720199998" y="133.747618404" width="207.85692300707032" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="114.75452458199999" y="132.239753484" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User enters a resolvable</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="114.75452458199999" y="147.318402684" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(after canonicalization) URL</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 53.61632615729297 153.34986236400002 L 366.8112967457773 153.34986236400002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(379.2260512537773,153.34986236400002) translate(-379.2260512537773,-153.34986236400002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 366.6605102537773 147.06709186400002 L 379.2260512537773 153.34986236400002 L 366.6605102537773 159.63263286400002 Z"/></g></g><g><g><rect fill="white" stroke="none" x="397.06911947377733" y="175.967836164" width="225.25693216234376" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="397.06911947377733" y="191.046485364" width="231.39026346117188" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="397.06911947377733" y="206.125134564" width="199.42359247118165" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="399.33091685377735" y="189.538620444" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client fetches URL to discover</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="399.33091685377735" y="204.617269644" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">rel=authorization_endpoint</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="399.33091685377735" y="219.695918844" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">and </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="431.59758326613087" y="219.695918844" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">rel=token_endpoint</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 379.2260512537773 225.72737852400002 L 633.8876966469492 225.72737852400002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(646.3024511549492,225.72737852400002) translate(-646.3024511549492,-225.72737852400002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 633.7369101549491 219.44460802400002 L 646.3024511549492 225.72737852400002 L 633.7369101549491 232.01014902400001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="71.45939437729295" y="248.345352324" width="289.92358865648436" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="71.45939437729295" y="263.424001524" width="285.22359170824217" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="73.72119175729296" y="261.91613660400003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client builds authorization request and</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="73.72119175729296" y="276.994785804" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">redirects to </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="162.08786045846483" y="276.994785804" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">authorization_endpoint</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 379.2260512537773 283.026245484 L 66.03108066529296 283.026245484" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(53.61632615729297,283.026245484) translate(-53.61632615729297,-283.026245484)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 66.18186715729297 276.743474984 L 53.61632615729297 283.026245484 L 66.18186715729297 289.30901598400004 Z"/></g></g><g><g><rect fill="white" stroke="none" x="198.47502255024213" y="305.64421928400003" width="552.2902573576563" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="200.73681993024212" y="319.2150035640001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User visits their authorization endpoint and sees the authorization request</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 53.61632615729297 325.24646324400004 L 883.2092217928475 325.24646324400004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(895.6239763008475,325.24646324400004) translate(-895.6239763008475,-325.24646324400004)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 883.0584353008475 318.963692744 L 895.6239763008475 325.24646324400004 L 883.0584353008475 331.52923374400007 Z"/></g></g><g><g><rect fill="white" stroke="none" x="405.94655685141396" y="347.86443704400006" width="462.95691385179686" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="408.208354231414" y="361.43522132400005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization endpoint fetches client information (name, icon)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 895.6239763008475 367.46668100400007 L 391.6408057617773 367.46668100400007" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(379.2260512537773,367.46668100400007) translate(-379.2260512537773,-367.46668100400007)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 391.7915922537773 361.18391050400004 L 379.2260512537773 367.46668100400007 L 391.7915922537773 373.7494515040001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="231.92501949848432" y="390.0846548040001" width="346.72360696703123" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="231.92501949848432" y="405.1633040040001" width="485.39026346117186" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="234.1868168784843" y="403.65543908400014" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User authenticates, and approves the request.</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="234.1868168784843" y="418.7340882840001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization endpoint issues code, builds redirect back to client.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 895.6239763008475 424.76554796400006 L 66.03108066529296 424.76554796400006" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(53.61632615729297,424.76554796400006) translate(-53.61632615729297,-424.76554796400006)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 66.18186715729297 418.48277746400004 L 53.61632615729297 424.76554796400006 L 66.18186715729297 431.0483184640001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="84.59272949081834" y="447.3835217640001" width="228.39026346117188" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="84.59272949081834" y="462.46217096400005" width="263.6569184294336" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="86.85452687081835" y="460.9543060440001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User's browser is redirected to</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="86.85452687081835" y="476.03295524400005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">client with an </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="190.58785664376757" y="476.03295524400005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">authorization code</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 53.61632615729297 482.06441492400006 L 366.8112967457773 482.06441492400006" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(379.2260512537773,482.06441492400006) translate(-379.2260512537773,-482.06441492400006)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 366.6605102537773 475.78164442400004 L 379.2260512537773 482.06441492400006 L 366.6605102537773 488.3471854240001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="568.8462062966709" y="504.6823887240001" width="324.89026346117186" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="568.8462062966709" y="519.7610379240001" width="298.82358255296873" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="568.8462062966709" y="534.8396871240001" width="166.09026040941407" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="571.1080036766708" y="518.2531730040001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client exchanges authorization code for an </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="571.1080036766708" y="533.3318222040001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">access token by making a POST request</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="571.1080036766708" y="548.4104714040001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">to the token_endpoint</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 379.2260512537773 554.4419310840001 L 1070.9418702927362 554.4419310840001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(1083.3566248007362,554.4419310840001) translate(-1083.3566248007362,-554.4419310840001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1070.7910838007363 548.1591605840001 L 1083.3566248007362 554.4419310840001 L 1070.7910838007363 560.7247015840001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="554.1295467507724" y="577.0599048840002" width="303.79025735765623" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="554.1295467507724" y="592.1385540840001" width="354.32358255296873" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="556.3913441307724" y="590.6306891640002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Token endpoint verifies code and returns</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="556.3913441307724" y="605.7093383640001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">canonical user profile URL with an access token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1083.3566248007362 611.7407980440001 L 391.6408057617773 611.7407980440001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(379.2260512537773,611.7407980440001) translate(-379.2260512537773,-611.7407980440001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 391.7915922537773 605.4580275440002 L 379.2260512537773 611.7407980440001 L 391.7915922537773 618.0235685440001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="111.59272567612108" y="634.3587718440002" width="209.65692605882813" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="111.59272567612108" y="649.4374210440002" width="186.59026040941407" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="113.85452305612108" y="647.9295561240002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client initiates login session</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="113.85452305612108" y="663.0082053240002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">and the user is logged in</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 379.2260512537773 669.0396650040002 L 66.03108066529296 669.0396650040002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(53.61632615729297,669.0396650040002) translate(-53.61632615729297,-669.0396650040002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 66.18186715729297 662.7568945040002 L 53.61632615729297 669.0396650040002 L 66.18186715729297 675.3224355040002 Z"/></g></g></g><g/><g/><g/><g/><g/></g></svg>