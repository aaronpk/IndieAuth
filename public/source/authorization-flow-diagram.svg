<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 1131 891" style="width: 100%; height: auto;"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1131" height="891"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="448.28122958869653" y="26.3876361" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">IndieAuth Flow Diagram</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 54.76552672655859 103.26361593799999 L 54.76552672655859 891.3743474579996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 351.0540007649049 103.26361593799999 L 351.0540007649049 891.3743474579996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 650.5708073227825 103.26361593799999 L 650.5708073227825 891.3743474579996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 872.8596137389283 103.26361593799999 L 872.8596137389283 891.3743474579996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1052.9167673507368 103.26361593799999 L 1052.9167673507368 891.3743474579996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878699999996 55.765870957999994 L 100.73517475311718 55.765870957999994 L 100.73517475311718 103.26361593799999 L 8.795878699999996 103.26361593799999 L 8.795878699999996 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.882935478999997" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Browser</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 313.22679353424473 55.765870957999994 L 388.88120799556503 55.765870957999994 L 388.88120799556503 103.26361593799999 L 313.22679353424473 103.26361593799999 L 313.22679353424473 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="332.31385031324476" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 599.3076641180012 55.765870957999994 L 701.8339505275637 55.765870957999994 L 701.8339505275637 103.26361593799999 L 599.3076641180012 103.26361593799999 L 599.3076641180012 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="618.3947208970012" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User URL</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 780.0145384662759 55.765870957999994 L 965.7046890115806 55.765870957999994 L 965.7046890115806 103.26361593799999 L 780.0145384662759 103.26361593799999 L 780.0145384662759 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="799.1015952452759" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization Endpoint</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 983.2964464115805 55.765870957999994 L 1122.537088289893 55.765870957999994 L 1122.537088289893 103.26361593799999 L 983.2964464115805 103.26361593799999 L 983.2964464115805 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1002.3835031905805" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Token Endpoint</text></g></g><g><g><g><rect fill="white" stroke="none" x="107.38986610252861" y="138.44713073799997" width="191.03979528640625" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="110.02862971252861" y="154.279712398" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User enters their profile URL</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 54.76552672655859 161.31641535799997 L 336.5701205055716 161.31641535799997" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(351.0540007649049,161.31641535799997) translate(-351.0540007649049,-161.31641535799997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 336.39420293157156 153.9865164413333 L 351.0540007649049 161.31641535799997 L 336.39420293157156 168.64631427466665 Z"/></g></g><g><g><rect fill="white" stroke="none" x="399.58384246021086" y="187.70405145799998" width="202.45712316726562" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="399.58384246021086" y="205.295808858" width="193.83158910964843" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="399.58384246021086" y="222.887566258" width="169.43644750808593" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="402.2226060702109" y="203.536633118" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client fetches URL to discover</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="402.2226060702109" y="221.128390518" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">rel=authorization_endpoint</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="402.2226060702109" y="238.720147918" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">and </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="430.75516832607025" y="238.720147918" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">rel=token_endpoint</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 351.0540007649049 245.75685087799997 L 636.0869270634491 245.75685087799997" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(650.5708073227825,245.75685087799997) translate(-650.5708073227825,-245.75685087799997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 635.9110094894492 238.4269519613333 L 650.5708073227825 245.75685087799997 L 635.9110094894492 253.08674979466664 Z"/></g></g><g><g><rect fill="white" stroke="none" x="75.5824396498919" y="272.144486978" width="254.65464819167968" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="75.5824396498919" y="289.736244378" width="243.92460668777343" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="78.2212032598919" y="287.977068638" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client builds authorization request and</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="78.2212032598919" y="305.568826038" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">redirects to </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="154.80669825500908" y="305.568826038" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">authorization_endpoint</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 351.0540007649049 312.60552899799995 L 69.24940698589192 312.60552899799995" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(54.76552672655859,312.60552899799995) translate(-54.76552672655859,-312.60552899799995)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 69.42532455989192 305.2756300813333 L 54.76552672655859 312.60552899799995 L 69.42532455989192 319.9354279146666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="222.40154404950118" y="338.99316509799996" width="482.8220523664844" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="225.0403076595012" y="354.825746758" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User visits their authorization endpoint and sees the authorization request</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 54.76552672655859 361.86244971799994 L 858.3757334795949 361.86244971799994" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(872.8596137389283,361.86244971799994) translate(-872.8596137389283,-361.86244971799994)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 858.199815905595 354.5325508013333 L 872.8596137389283 361.86244971799994 L 858.199815905595 369.1923486346666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="410.48491375910413" y="388.25008581799995" width="402.943786985625" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="413.12367736910414" y="404.08266747799996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization endpoint fetches client information (name, icon)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 872.8596137389283 411.1193704379999 L 365.53788102423823 411.1193704379999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(351.0540007649049,411.1193704379999) translate(-351.0540007649049,-411.1193704379999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 365.71379859823827 403.78947152133327 L 351.0540007649049 411.1193704379999 L 365.71379859823827 418.44926935466657 Z"/></g></g><g><g><rect fill="white" stroke="none" x="250.92694993329025" y="437.5070065379999" width="305.9932254621875" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="250.92694993329025" y="455.09876393799993" width="425.7712405989063" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="253.56571354329026" y="453.33958819799994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User authenticates, and approves the request.</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="253.56571354329026" y="470.93134559799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization endpoint issues code, builds redirect back to client.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 872.8596137389283 477.9680485579999 L 69.24940698589192 477.9680485579999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(54.76552672655859,477.9680485579999) translate(-54.76552672655859,-477.9680485579999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 69.42532455989192 470.63814964133326 L 54.76552672655859 477.9680485579999 L 69.42532455989192 485.29794747466656 Z"/></g></g><g><g><rect fill="white" stroke="none" x="90.70408271629815" y="504.3556846579999" width="202.7935184309375" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="90.70408271629815" y="521.9474420579999" width="224.41136205886718" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="93.34284632629814" y="520.1882663179999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User's browser is redirected to</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="93.34284632629814" y="537.7800237179999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">client with an </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="182.1617092413372" y="537.7800237179999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">authorization code</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 54.76552672655859 544.8167266779999 L 336.5701205055716 544.8167266779999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(351.0540007649049,544.8167266779999) translate(-351.0540007649049,-544.8167266779999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 336.39420293157156 537.4868277613332 L 351.0540007649049 544.8167266779999 L 336.39420293157156 552.1466255946666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="558.358857996649" y="571.2043627779998" width="287.2530521223438" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="558.358857996649" y="588.7961201779998" width="270.9109500715625" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="558.358857996649" y="606.3878775779998" width="146.29394567703125" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="560.997621606649" y="587.0369444379998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client exchanges authorization code for an </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="560.997621606649" y="604.6287018379998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">access token by making a POST request</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="560.997621606649" y="622.2204592379998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">to the token_endpoint</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 351.0540007649049 629.2571621979998 L 1038.4328870914035 629.2571621979998" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(1052.9167673507368,629.2571621979998) translate(-1052.9167673507368,-629.2571621979998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1038.2569695174034 621.9272632813331 L 1052.9167673507368 629.2571621979998 L 1038.2569695174034 636.5870611146665 Z"/></g></g><g><g><rect fill="white" stroke="none" x="543.3016070200865" y="655.6447982979997" width="269.3217777082813" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="543.3016070200865" y="673.2365556979997" width="317.3675540754688" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="545.9403706300865" y="671.4773799579997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Token endpoint verifies code and returns</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="545.9403706300865" y="689.0691373579997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">canonical user profile URL with an access token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1052.9167673507368 696.1058403179998 L 365.53788102423823 696.1058403179998" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(351.0540007649049,696.1058403179998) translate(-351.0540007649049,-696.1058403179998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 365.71379859823827 688.7759414013331 L 351.0540007649049 696.1058403179998 L 365.71379859823827 703.4357392346665 Z"/></g></g><g><g><rect fill="white" stroke="none" x="371.8709136882382" y="722.4934764179997" width="246.79495275710937" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="371.8709136882382" y="740.0852338179997" width="257.88298071121096" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="374.5096772982382" y="738.3260580779996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client confirms the user's profile URL</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="374.5096772982382" y="755.9178154779996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">declares the same authorization server</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 351.0540007649049 762.9545184379997 L 636.0869270634491 762.9545184379997" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(650.5708073227825,762.9545184379997) translate(-650.5708073227825,-762.9545184379997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 635.9110094894492 755.624619521333 L 650.5708073227825 762.9545184379997 L 635.9110094894492 770.2844173546664 Z"/></g></g><g><g><rect fill="white" stroke="none" x="110.22810005028252" y="789.3421545379996" width="185.36332739089843" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="110.22810005028252" y="806.9339119379996" width="165.01976049636718" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="112.86686366028252" y="805.1747361979996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client initiates login session</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="112.86686366028252" y="822.7664935979996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">and the user is logged in</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 351.0540007649049 829.8031965579996 L 69.24940698589192 829.8031965579996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(54.76552672655859,829.8031965579996) translate(-54.76552672655859,-829.8031965579996)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 69.42532455989192 822.4732976413329 L 54.76552672655859 829.8031965579996 L 69.42532455989192 837.1330954746663 Z"/></g></g></g><g/><g/><g/><g/><g/></g></svg>
