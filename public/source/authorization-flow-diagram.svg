<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 1131 908" style="width: 100%; height: auto;"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1131" height="908"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="448.28122958869653" y="26.3876361" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">IndieAuth Flow Diagram</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 54.76552672655859 103.26361593799999 L 54.76552672655859 908.9661048579997" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 351.0540007649049 103.26361593799999 L 351.0540007649049 908.9661048579997" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 650.5708073227825 103.26361593799999 L 650.5708073227825 908.9661048579997" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 872.8596137389283 103.26361593799999 L 872.8596137389283 908.9661048579997" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1052.9167673507368 103.26361593799999 L 1052.9167673507368 908.9661048579997" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878699999996 55.765870957999994 L 100.73517475311718 55.765870957999994 L 100.73517475311718 103.26361593799999 L 8.795878699999996 103.26361593799999 L 8.795878699999996 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.882935478999997" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Browser</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 313.22679353424473 55.765870957999994 L 388.88120799556503 55.765870957999994 L 388.88120799556503 103.26361593799999 L 313.22679353424473 103.26361593799999 L 313.22679353424473 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="332.31385031324476" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 599.3076641180012 55.765870957999994 L 701.8339505275637 55.765870957999994 L 701.8339505275637 103.26361593799999 L 599.3076641180012 103.26361593799999 L 599.3076641180012 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="618.3947208970012" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User URL</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 780.0145384662759 55.765870957999994 L 965.7046890115806 55.765870957999994 L 965.7046890115806 103.26361593799999 L 780.0145384662759 103.26361593799999 L 780.0145384662759 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="799.1015952452759" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization Endpoint</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 983.2964464115805 55.765870957999994 L 1122.537088289893 55.765870957999994 L 1122.537088289893 103.26361593799999 L 983.2964464115805 103.26361593799999 L 983.2964464115805 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1002.3835031905805" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Token Endpoint</text></g></g><g><g><g><rect fill="white" stroke="none" x="108.19158576805596" y="138.447130738" width="183.73130834792968" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="108.19158576805596" y="156.038888138" width="189.43635595535156" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="110.83034937805596" y="154.27971239800002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User enters a URL, and the</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="110.83034937805596" y="171.87146979800002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">client canonicalizes the URL</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 54.76552672655859 178.90817275799998 L 336.5701205055716 178.90817275799998" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(351.0540007649049,178.90817275799998) translate(-351.0540007649049,-178.90817275799998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 336.39420293157156 171.5782738413333 L 351.0540007649049 178.90817275799998 L 336.39420293157156 186.23807167466666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="399.58384246021086" y="205.295808858" width="202.45712316726562" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="399.58384246021086" y="222.887566258" width="193.83158910964843" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="399.58384246021086" y="240.479323658" width="169.43644750808593" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="402.2226060702109" y="221.128390518" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client fetches URL to discover</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="402.2226060702109" y="238.720147918" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">rel=authorization_endpoint</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="402.2226060702109" y="256.311905318" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">and </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="430.75516832607025" y="256.311905318" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">rel=token_endpoint</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 351.0540007649049 263.348608278 L 636.0869270634491 263.348608278" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(650.5708073227825,263.348608278) translate(-650.5708073227825,-263.348608278)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 635.9110094894492 256.0187093613333 L 650.5708073227825 263.348608278 L 635.9110094894492 270.6785071946666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="75.5824396498919" y="289.736244378" width="254.65464819167968" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="75.5824396498919" y="307.328001778" width="243.92460668777343" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="78.2212032598919" y="305.568826038" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client builds authorization request and</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="78.2212032598919" y="323.160583438" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">redirects to </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="154.80669825500908" y="323.160583438" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">authorization_endpoint</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 351.0540007649049 330.19728639799996 L 69.24940698589192 330.19728639799996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(54.76552672655859,330.19728639799996) translate(-54.76552672655859,-330.19728639799996)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 69.42532455989192 322.8673874813333 L 54.76552672655859 330.19728639799996 L 69.42532455989192 337.5271853146666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="222.40154404950118" y="356.58492249799997" width="482.8220523664844" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="225.0403076595012" y="372.417504158" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User visits their authorization endpoint and sees the authorization request</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 54.76552672655859 379.45420711799994 L 858.3757334795949 379.45420711799994" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(872.8596137389283,379.45420711799994) translate(-872.8596137389283,-379.45420711799994)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 858.199815905595 372.1243082013333 L 872.8596137389283 379.45420711799994 L 858.199815905595 386.7841060346666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="410.48491375910413" y="405.84184321799995" width="402.943786985625" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="413.12367736910414" y="421.67442487799997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization endpoint fetches client information (name, icon)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 872.8596137389283 428.7111278379999 L 365.53788102423823 428.7111278379999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(351.0540007649049,428.7111278379999) translate(-351.0540007649049,-428.7111278379999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 365.71379859823827 421.3812289213333 L 351.0540007649049 428.7111278379999 L 365.71379859823827 436.0410267546666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="250.92694993329025" y="455.09876393799993" width="305.9932254621875" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="250.92694993329025" y="472.69052133799994" width="425.7712405989063" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="253.56571354329026" y="470.93134559799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User authenticates, and approves the request.</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="253.56571354329026" y="488.52310299799996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization endpoint issues code, builds redirect back to client.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 872.8596137389283 495.5598059579999 L 69.24940698589192 495.5598059579999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(54.76552672655859,495.5598059579999) translate(-54.76552672655859,-495.5598059579999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 69.42532455989192 488.22990704133326 L 54.76552672655859 495.5598059579999 L 69.42532455989192 502.88970487466656 Z"/></g></g><g><g><rect fill="white" stroke="none" x="90.70408271629815" y="521.9474420579999" width="202.7935184309375" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="90.70408271629815" y="539.5391994579999" width="224.41136205886718" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="93.34284632629814" y="537.7800237179998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User's browser is redirected to</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="93.34284632629814" y="555.3717811179998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">client with an </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="182.1617092413372" y="555.3717811179998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">authorization code</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 54.76552672655859 562.4084840779999 L 336.5701205055716 562.4084840779999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(351.0540007649049,562.4084840779999) translate(-351.0540007649049,-562.4084840779999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 336.39420293157156 555.0785851613332 L 351.0540007649049 562.4084840779999 L 336.39420293157156 569.7383829946666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="558.358857996649" y="588.7961201779998" width="287.2530521223438" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="558.358857996649" y="606.3878775779998" width="270.9109500715625" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="558.358857996649" y="623.9796349779998" width="146.29394567703125" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="560.997621606649" y="604.6287018379998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client exchanges authorization code for an </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="560.997621606649" y="622.2204592379998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">access token by making a POST request</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="560.997621606649" y="639.8122166379998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">to the token_endpoint</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 351.0540007649049 646.8489195979998 L 1038.4328870914035 646.8489195979998" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(1052.9167673507368,646.8489195979998) translate(-1052.9167673507368,-646.8489195979998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1038.2569695174034 639.5190206813331 L 1052.9167673507368 646.8489195979998 L 1038.2569695174034 654.1788185146665 Z"/></g></g><g><g><rect fill="white" stroke="none" x="543.3016070200865" y="673.2365556979997" width="269.3217777082813" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="543.3016070200865" y="690.8283130979997" width="317.3675540754688" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="545.9403706300865" y="689.0691373579997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Token endpoint verifies code and returns</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="545.9403706300865" y="706.6608947579997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">canonical user profile URL with an access token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1052.9167673507368 713.6975977179998 L 365.53788102423823 713.6975977179998" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(351.0540007649049,713.6975977179998) translate(-351.0540007649049,-713.6975977179998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 365.71379859823827 706.3676988013331 L 351.0540007649049 713.6975977179998 L 365.71379859823827 721.0274966346665 Z"/></g></g><g><g><rect fill="white" stroke="none" x="371.8709136882382" y="740.0852338179997" width="246.79495275710937" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="371.8709136882382" y="757.6769912179997" width="257.88298071121096" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="374.5096772982382" y="755.9178154779996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client confirms the user's profile URL</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="374.5096772982382" y="773.5095728779996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">declares the same authorization server</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 351.0540007649049 780.5462758379997 L 636.0869270634491 780.5462758379997" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(650.5708073227825,780.5462758379997) translate(-650.5708073227825,-780.5462758379997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 635.9110094894492 773.216376921333 L 650.5708073227825 780.5462758379997 L 635.9110094894492 787.8761747546664 Z"/></g></g><g><g><rect fill="white" stroke="none" x="110.22810005028252" y="806.9339119379996" width="185.36332739089843" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="110.22810005028252" y="824.5256693379996" width="165.01976049636718" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="112.86686366028252" y="822.7664935979996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client initiates login session</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="112.86686366028252" y="840.3582509979996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">and the user is logged in</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 351.0540007649049 847.3949539579996 L 69.24940698589192 847.3949539579996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(54.76552672655859,847.3949539579996) translate(-54.76552672655859,-847.3949539579996)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 69.42532455989192 840.0650550413329 L 54.76552672655859 847.3949539579996 L 69.42532455989192 854.7248528746663 Z"/></g></g></g><g/><g/><g/><g/><g/></g></svg>
